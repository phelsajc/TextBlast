"use strict";(self["webpackChunkapp_boilerplate"]=self["webpackChunkapp_boilerplate"]||[]).push([[41],{2009:function(e,t,n){var a=n(7877);t.Z={add(e){return a.Z.post("saveTemplate",e)},get(){return a.Z.get("mytemplates")},list(e){return a.Z.post("mytemplates",e)},update(e){return a.Z.patch("mytemplates",e)},delete(e){return a.Z.delete("deleteTemplate/"+e)}}},3637:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(7065);function l(){async function e(e,t,n="top",l=3e3){const s=await a.Mn.create({message:e,position:n,color:t,duration:l});return s.present()}return{openToast:e}}},7258:function(e,t,n){n.d(t,{A:function(){return l}});var a=n(9876);const l=(0,a.Q_)({id:"stn",state:()=>({alert:null,stn:[]}),actions:{success(e){this.alert={message:e,type:"alert-success"}},error(e){this.alert={message:e,type:"alert-danger"}},clear(){this.alert=null},stations(e){this.stn=[],this.stn=e}},getters:{getStations(){return this.stn}}})},2041:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(6252),l=n(3577);function s(e,t,n,s,o,i){const u=(0,a.up)("ion-icon"),r=(0,a.up)("ion-button"),c=(0,a.up)("ion-card-content"),d=(0,a.up)("ion-card"),p=(0,a.up)("ion-badge"),m=(0,a.up)("ion-card-subtitle"),f=(0,a.up)("ion-card-title"),w=(0,a.up)("ion-card-header"),g=(0,a.up)("ion-col"),_=(0,a.up)("ion-row"),h=(0,a.up)("ion-grid"),y=(0,a.up)("ion-list"),k=(0,a.up)("base-layout");return(0,a.wg)(),(0,a.j4)(a.Ob,null,[(0,a.Wm)(k,{"show-tool-bar-menu":!0,"color-type":"secondary","page-title":"Templates"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{expand:"block",onClick:t[0]||(t[0]=e=>s.redirect())},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"add-outline"}),(0,a.Uk)("Add")])),_:1})])),_:1})])),_:1}),(0,a.Wm)(y,{lines:"full"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.templates_list,(e=>((0,a.wg)(),(0,a.j4)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[1==e.row_status?((0,a.wg)(),(0,a.j4)(m,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{color:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Active")])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(m,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{color:"danger"},{default:(0,a.w5)((()=>[(0,a.Uk)("Inactive")])),_:1})])),_:1})),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.template_name),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{expand:"block",color:"danger",fill:"outline",onClick:t=>s.deleteTmp(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"trash-outline"}),(0,a.Uk)("Delete")])),_:2},1032,["onClick"])])),_:2},1024),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{expand:"block",color:"success",fill:"outline",onClick:t=>s.editTmp(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"create-outline"}),(0,a.Uk)("Edit")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})],1024)}n(7658);var o=n(2262),i=n(2009),u=n(7258),r=n(2201),c=n(3637),d=(n(4571),n(2094)),p=(n(2744),n(7065)),m={setup(){const e=(0,o.iH)([]),t=(0,o.iH)([]),n=(0,o.iH)([]),l=((0,o.iH)([]),(0,u.A)()),s=(0,a.Fl)((()=>l.getStations)),m=((0,o.iH)(!1),(0,o.iH)({date:null,receiver:null,template:null,message:null})),{openToast:f}=(0,c.Z)();(0,d.L)();(0,a.bv)((async()=>{g(),await k()}));const w=(0,r.tv)();async function g(){const e=await p.G0.create({message:"Loading...",backdropDismiss:!0,spinner:"circles"});e.present()}const _=async()=>{await p.G0.dismiss()};function h(){w.push({name:"Manage-template",params:{propKey:JSON.stringify(m)}})}async function y(e){console.log(e);const t=this.templates_list.find((t=>t.template_id==e.detail.value));console.log(t.template_descr),this.form.message=t.template_descr}function k(){i.Z.get().then((t=>{e.value=[],t.data.data.forEach((t=>{e.value.push(t)})),_()})).catch((e=>{console.log(e)})).finally()}async function W(e){return new Promise((async t=>{const n=await p.Cl.create({header:"Delete Template",message:e.template_name,buttons:[{text:"Cancel",role:"cancel",handler:()=>t(!1)},{text:"OK",handler:()=>(i.Z.delete(e.template_id).then((e=>{k()})).catch((e=>{console.log(e)})).finally(),t(!0))}]});await n.present()}))}async function b(e){w.push({name:"Manage-template",params:{propKey:JSON.stringify(e)}})}return{redirect:h,selectTemplate:y,templates_list:e,Contact_list:t,stnVal:n,loadTemplates:k,form:m,deleteTmp:W,editTmp:b,censusResults:s,showLoading:g,dismissLoading:_}}},f=n(3744);const w=(0,f.Z)(m,[["render",s]]);var g=w}}]);
//# sourceMappingURL=41.85886c93.js.map